[gd_scene load_steps=10 format=4 uid="uid://cb5ogx63v83yx"]

[ext_resource type="Script" uid="uid://i47uqdvpsp6c" path="res://Scenes/world.gd" id="1_nnsk1"]
[ext_resource type="TileSet" uid="uid://blkvhyot7eq0s" path="res://Resources/tileset.tres" id="2_k0juu"]
[ext_resource type="Script" uid="uid://ciy264vbij7ne" path="res://Scenes/enemy_spawner.gd" id="2_k7acu"]
[ext_resource type="Script" uid="uid://qeek0vpjmjkl" path="res://Scenes/place_preview.gd" id="2_o06y3"]
[ext_resource type="PackedScene" uid="uid://bg1b7wd64d5l7" path="res://Scenes/Turrets/elder.tscn" id="2_rwgxs"]
[ext_resource type="PackedScene" uid="uid://bbgace0xp8cxq" path="res://Scenes/Turrets/stump.tscn" id="5_fo5ed"]
[ext_resource type="Script" uid="uid://dspmjf11a68lo" path="res://Scenes/turret_container.gd" id="6_5ukr8"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_rwgxs"]
vertices = PackedVector2Array(271, 135.46094, 408.0078, 112.63281, 420.09375, 245.5625, 362.1797, 214.72656, 10, -54, 53.9375, -54, 51.9375, 309.77344, 10, 342, 630, 342, 490.84375, 277.21875, 630, 10.5234375, 471.10156, 51.28125, 105.67969, 37.460938, 190.9375, 72.578125, 121.28906, 261.47656, 154.4375, 227.72656, 359.60938, 232.1875, 271, 189.39063)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(8, 7, 6, 9), PackedInt32Array(10, 8, 9, 11), PackedInt32Array(12, 10, 11, 13), PackedInt32Array(14, 12, 13, 15), PackedInt32Array(2, 14, 15, 16), PackedInt32Array(2, 16, 3), PackedInt32Array(0, 3, 17)])
outlines = Array[PackedVector2Array]([PackedVector2Array(640, 0, 640, 352, 0, 352, 0, -64, 64, -64, 62, 299, 480, 268, 462, 62, 199, 82, 167, 218, 351, 222, 261, 197, 261, 127, 417, 101, 431, 255, 112, 272, 95, 28)])

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_fo5ed"]
bg_color = Color(0, 0, 0, 0.37254903)
border_width_left = 2
border_width_top = 2
border_width_bottom = 2
corner_radius_top_left = 5
corner_radius_bottom_left = 5
expand_margin_left = 5.0
expand_margin_top = 5.0
expand_margin_right = 20.0
expand_margin_bottom = 5.0

[node name="World" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_nnsk1")

[node name="EnemySpawner" type="Node2D" parent="."]
position = Vector2(32, -32)
script = ExtResource("2_k7acu")

[node name="SpawnTimer" type="Timer" parent="EnemySpawner"]
wait_time = 2.0
autostart = true

[node name="Ground" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAQABAAAAAAABAAEAAQABAAAAAAACAAIAAQAAAAEAAAADAAMAAQAAAAAAAAAEAAQAAQAAAAAAAAAEAAIAAQAAAAAAAAADAAEAAQAAAAAAAAACAAAAAQAAAAEAAAAEAAAAAQAAAAAAAAAFAAEAAQAAAAAAAAAFAAMAAQAAAAEAAAAGAAIAAQAAAAEAAAAHAAEAAQABAAEAAAAGAAAAAQABAAEAAAAAAAIAAQAAAAAAAAABAAMAAQABAAAAAAACAAQAAQAAAAEAAAAAAAQAAQAAAAEAAAABAAUAAQABAAEAAAAFAAUAAQABAAAAAAAGAAYAAQAAAAAAAAAHAAcAAQABAAAAAAAIAAgAAQAAAAEAAAAJAAkAAQAAAAEAAAAKAAoAAQABAAEAAAACAAYAAQABAAAAAAADAAUAAQABAAAAAAAEAAYAAQAAAAAAAAADAAcAAQABAAEAAAAAAAYAAQAAAAEAAAABAAcAAQABAAAAAAACAAgAAQABAAAAAAAAAAgAAQABAAAAAAABAAkAAQAAAAAAAAADAAkAAQAAAAEAAAAEAAgAAQAAAAAAAAAFAAcAAQAAAAAAAAAGAAgAAQABAAEAAAAFAAkAAQAAAAAAAAAHAAkAAQABAAEAAAAAAAoAAQABAAEAAAACAAoAAQABAAEAAAAEAAoAAQABAAEAAAAGAAoAAQAAAAAAAAAIAAoAAQAAAAEAAAALAAkAAQABAAAAAAAKAAgAAQAAAAAAAAAMAAoAAQAAAAAAAAANAAkAAQABAAEAAAAPAAkAAQAAAAEAAAAOAAoAAQAAAAAAAAAQAAoAAQAAAAEAAAARAAkAAQAAAAEAAAASAAoAAQAAAAAAAAATAAkAAQABAAAAAAASAAgAAQAAAAAAAAATAAcAAQAAAAEAAAASAAYAAQABAAAAAAATAAUAAQAAAAAAAAASAAQAAQAAAAEAAAATAAMAAQABAAEAAAASAAIAAQAAAAEAAAATAAEAAQAAAAEAAAASAAAAAQABAAEAAAARAAEAAQABAAEAAAAQAAAAAQABAAEAAAAQAAIAAQABAAEAAAAPAAEAAQABAAEAAAAOAAAAAQAAAAEAAAAOAAIAAQAAAAAAAAANAAEAAQABAAAAAAAMAAAAAQAAAAAAAAALAAEAAQABAAEAAAAMAAIAAQABAAEAAAAKAAIAAQABAAEAAAAKAAAAAQABAAAAAAAJAAEAAQABAAEAAAAIAAAAAQABAAAAAAAIAAIAAQAAAAAAAAAJAAMAAQABAAAAAAAIAAQAAQABAAAAAAAHAAMAAQABAAEAAAAKAAQAAQAAAAEAAAAJAAUAAQABAAEAAAAHAAUAAQABAAAAAAAIAAYAAQAAAAAAAAAJAAcAAQAAAAAAAAAKAAYAAQAAAAAAAAALAAcAAQAAAAEAAAAMAAYAAQABAAAAAAALAAUAAQABAAAAAAAMAAQAAQABAAAAAAANAAUAAQABAAEAAAAOAAQAAQABAAAAAAANAAMAAQAAAAAAAAALAAMAAQABAAAAAAAPAAMAAQABAAEAAAARAAMAAQAAAAEAAAAQAAQAAQABAAAAAAARAAUAAQAAAAEAAAAPAAUAAQAAAAAAAAAQAAYAAQABAAAAAAARAAcAAQAAAAEAAAAQAAgAAQABAAAAAAAPAAcAAQAAAAAAAAAOAAYAAQABAAEAAAANAAcAAQABAAAAAAAOAAgAAQAAAAEAAAAMAAgAAQABAAEAAAAGAAQAAQABAAEAAAAAAAEAAQAAAAAAAAAAAAMAAQABAAEAAAAAAAUAAQABAAEAAAAAAAcAAQABAAEAAAAAAAkAAQABAAEAAAABAAAAAQAAAAEAAAABAAIAAQABAAEAAAABAAQAAQAAAAAAAAABAAYAAQABAAEAAAABAAgAAQAAAAEAAAABAAoAAQAAAAAAAAACAAEAAQAAAAAAAAACAAMAAQABAAEAAAACAAUAAQAAAAEAAAACAAcAAQABAAAAAAACAAkAAQABAAEAAAADAAAAAQABAAEAAAADAAIAAQAAAAEAAAADAAQAAQAAAAAAAAADAAYAAQAAAAAAAAADAAgAAQAAAAEAAAADAAoAAQAAAAEAAAAEAAEAAQAAAAAAAAAEAAMAAQABAAAAAAAEAAUAAQAAAAAAAAAEAAcAAQABAAAAAAAEAAkAAQAAAAEAAAAFAAAAAQABAAAAAAAFAAIAAQABAAEAAAAFAAQAAQAAAAEAAAAFAAYAAQABAAEAAAAFAAgAAQAAAAEAAAAFAAoAAQABAAEAAAAGAAEAAQAAAAEAAAAGAAMAAQABAAAAAAAGAAUAAQAAAAEAAAAGAAcAAQABAAAAAAAGAAkAAQABAAEAAAAHAAAAAQAAAAAAAAAHAAIAAQAAAAAAAAAHAAQAAQABAAEAAAAHAAYAAQAAAAEAAAAHAAgAAQABAAEAAAAHAAoAAQAAAAEAAAAIAAEAAQAAAAEAAAAIAAMAAQABAAEAAAAIAAUAAQABAAAAAAAIAAcAAQAAAAAAAAAIAAkAAQAAAAEAAAAJAAAAAQABAAEAAAAJAAIAAQABAAEAAAAJAAQAAQABAAAAAAAJAAYAAQAAAAEAAAAJAAgAAQABAAAAAAAJAAoAAQAAAAAAAAAKAAEAAQABAAAAAAAKAAMAAQABAAAAAAAKAAUAAQABAAEAAAAKAAcAAQAAAAAAAAAKAAkAAQAAAAAAAAALAAAAAQAAAAEAAAALAAIAAQABAAAAAAALAAQAAQABAAEAAAALAAYAAQAAAAEAAAALAAgAAQABAAAAAAALAAoAAQABAAEAAAAMAAEAAQABAAAAAAAMAAMAAQABAAEAAAAMAAUAAQAAAAEAAAAMAAcAAQAAAAAAAAAMAAkAAQAAAAEAAAANAAAAAQABAAAAAAANAAIAAQABAAAAAAANAAQAAQABAAAAAAANAAYAAQAAAAEAAAANAAgAAQABAAAAAAANAAoAAQAAAAEAAAAOAAEAAQAAAAAAAAAOAAMAAQABAAAAAAAOAAUAAQABAAEAAAAOAAcAAQABAAEAAAAOAAkAAQABAAEAAAAPAAAAAQAAAAEAAAAPAAIAAQAAAAEAAAAPAAQAAQABAAAAAAAPAAYAAQABAAAAAAAPAAgAAQABAAAAAAAPAAoAAQABAAAAAAAQAAEAAQABAAEAAAAQAAMAAQABAAAAAAAQAAUAAQABAAAAAAAQAAcAAQAAAAAAAAAQAAkAAQAAAAEAAAARAAAAAQAAAAAAAAARAAIAAQAAAAAAAAARAAQAAQAAAAAAAAARAAYAAQAAAAEAAAARAAgAAQAAAAEAAAARAAoAAQABAAAAAAASAAEAAQAAAAEAAAASAAMAAQABAAAAAAASAAUAAQABAAAAAAASAAcAAQAAAAAAAAASAAkAAQAAAAEAAAATAAAAAQAAAAAAAAATAAIAAQAAAAEAAAATAAQAAQAAAAEAAAATAAYAAQAAAAAAAAATAAgAAQABAAAAAAATAAoAAQAAAAEAAAATAAsAAQAAAAAAAAASAAsAAQABAAEAAAARAAsAAQABAAEAAAAQAAsAAQAAAAAAAAAPAAsAAQABAAEAAAAOAAsAAQAAAAEAAAANAAsAAQABAAEAAAAMAAsAAQAAAAAAAAALAAsAAQABAAAAAAAKAAsAAQAAAAEAAAAJAAsAAQABAAEAAAAIAAsAAQAAAAEAAAAHAAsAAQAAAAEAAAAGAAsAAQAAAAEAAAAFAAsAAQABAAEAAAAEAAsAAQABAAAAAAADAAsAAQAAAAEAAAACAAsAAQAAAAEAAAABAAsAAQAAAAAAAAAAAAsAAQAAAAEAAAA=")
tile_set = ExtResource("2_k0juu")

[node name="Grass" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAIAAgAAAAAAAAAFAAMAAgAAAAAAAAAGAAIAAgAAAAAAAAAGAAMAAgAAAAAAAAAHAAIAAgAAAAAAAAAHAAMAAgAAAAAAAAALAAMAAgAAAAAAAAALAAQAAgAAAAAAAAALAAUAAgAAAAAAAAALAAYAAgAAAAAAAAAMAAMAAgAAAAAAAAAMAAQAAgAAAAAAAAAMAAUAAgAAAAAAAAAMAAYAAgAAAAAAAAANAAMAAgAAAAAAAAANAAQAAgAAAAAAAAANAAUAAgAAAAAAAAANAAYAAgAAAAAAAAAOAAMAAgAAAAAAAAAOAAQAAgAAAAAAAAAOAAUAAgAAAAAAAAAOAAYAAgAAAAAAAAAGAAQAAgAAAAAAAAAGAAUAAgAAAAAAAAAHAAQAAgAAAAAAAAAHAAUAAgAAAAAAAAAIAAIAAgAAAAAAAAAIAAMAAgAAAAAAAAAJAAIAAgAAAAAAAAAJAAMAAgAAAAAAAAAKAAUAAgAAAAAAAAAKAAYAAgAAAAAAAAAIAAUAAgAAAAAAAAAFAAcAAgAAAAAAAAAFAAgAAgAAAAAAAAAFAAkAAgAAAAAAAAAGAAcAAgAAAAAAAAAGAAgAAgAAAAAAAAAGAAkAAgAAAAAAAAAHAAcAAgAAAAAAAAAHAAgAAgAAAAAAAAAHAAkAAgAAAAAAAAAIAAcAAgAAAAAAAAAIAAgAAgAAAAAAAAAIAAkAAgAAAAAAAAALAAgAAgAAAAAAAAALAAkAAgAAAAAAAAAMAAgAAgAAAAAAAAAMAAkAAgAAAAAAAAARAAgAAgAAAAAAAAAQAAUAAgAAAAAAAAAQAAIAAgAAAAAAAAARAAIAAgAAAAAAAAARAAQAAgAAAAAAAAARAAUAAgAAAAAAAAASAAQAAgAAAAAAAAASAAUAAgAAAAAAAAARAAYAAgAAAAAAAAAAAAAAAgAAAAAAAAAAAAEAAgAAAAAAAAABAAAAAgAAAAAAAAABAAEAAgAAAAAAAAACAAAAAgAAAAAAAAACAAEAAgAAAAAAAAA=")
tile_set = ExtResource("2_k0juu")

[node name="Objects" type="Node2D" parent="."]
unique_name_in_owner = true
y_sort_enabled = true

[node name="Elder" parent="Objects" instance=ExtResource("2_rwgxs")]
position = Vector2(288, 161)

[node name="Stump" parent="Objects" instance=ExtResource("5_fo5ed")]
position = Vector2(96, 160)

[node name="Stump2" parent="Objects" instance=ExtResource("5_fo5ed")]
position = Vector2(288, 32)

[node name="Stump3" parent="Objects" instance=ExtResource("5_fo5ed")]
position = Vector2(480, 224)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_rwgxs")

[node name="PlacePreview" type="Node2D" parent="."]
unique_name_in_owner = true
visible = false
script = ExtResource("2_o06y3")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TurretContainer" type="MarginContainer" parent="CanvasLayer"]
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -12.0
offset_top = -2.0
offset_bottom = 2.0
grow_horizontal = 0
grow_vertical = 2
size_flags_horizontal = 8
size_flags_vertical = 4
theme_override_constants/margin_right = 10
script = ExtResource("6_5ukr8")

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/TurretContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_fo5ed")

[node name="Buttons" type="VBoxContainer" parent="CanvasLayer/TurretContainer/PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_vertical = 4

[connection signal="timeout" from="EnemySpawner/SpawnTimer" to="EnemySpawner" method="_on_spawn_timer_timeout"]
[connection signal="dragging_turret" from="CanvasLayer/TurretContainer" to="." method="_on_turret_container_dragging_turret"]
